from py532lib.i2c import *
from py532lib.frame import *
from py532lib.constants import *
import time
import RPi.GPIO as GPIO
 
pn532 = Pn532_i2c()
pn532.SAMconfigure()
GPIO.setmode(GPIO.BCM)
GPIO.setup(22, GPIO.IN)

t_abandonned = 0


def readRFID ():
	card_data = pn532.read_mifare().get_data()
	print(card_data)
	return card_data	

def readIR ():
	ir_data = GPIO.input(22)
	print(ir_data)
	return ir_data

def restartRoomTimeout ():
	t_abandonned = 0
	

def IRlogic ():
	ir_data = readIR()
	if (ir_data == 1):
		#someone is present; restart timeout.
		restartRoomTimeout()
	else: 
		



while True:
	#readRFID()
	readIR()
	
	time.sleep(5)



